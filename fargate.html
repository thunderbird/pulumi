<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html"><link rel="search" title="Search" href="search.html"><link rel="next" title="tb_pulumi.iam" href="iam.html"><link rel="prev" title="tb_pulumi.elasticache" href="elasticache.html">

    <!-- Generated with Sphinx 9.1.0 and Furo 2025.12.19 -->
        <title>tb_pulumi.fargate - tb_pulumi documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=7bdb33bb" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">tb_pulumi  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <span class="sidebar-brand-text">tb_pulumi  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="patterns.html">Patterns of Use</a></li>
<li class="toctree-l1"><a class="reference internal" href="monitors.html">Monitoring Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="modules.html">tb_pulumi</a><input aria-label="Toggle navigation of tb_pulumi" checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tb_pulumi.html">tb_pulumi</a></li>
<li class="toctree-l2"><a class="reference internal" href="autoscale.html">tb_pulumi.autoscale</a></li>
<li class="toctree-l2"><a class="reference internal" href="ci.html">tb_pulumi.ci</a></li>
<li class="toctree-l2"><a class="reference internal" href="cloudfront.html">tb_pulumi.cloudfront</a></li>
<li class="toctree-l2"><a class="reference internal" href="cloudwatch.html">tb_pulumi.cloudwatch</a></li>
<li class="toctree-l2"><a class="reference internal" href="constants.html">tb_pulumi.constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="ec2.html">tb_pulumi.ec2</a></li>
<li class="toctree-l2"><a class="reference internal" href="elasticache.html">tb_pulumi.elasticache</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">tb_pulumi.fargate</a></li>
<li class="toctree-l2"><a class="reference internal" href="iam.html">tb_pulumi.iam</a></li>
<li class="toctree-l2"><a class="reference internal" href="monitoring.html">tb_pulumi.monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="network.html">tb_pulumi.network</a></li>
<li class="toctree-l2"><a class="reference internal" href="rds.html">tb_pulumi.rds</a></li>
<li class="toctree-l2"><a class="reference internal" href="s3.html">tb_pulumi.s3</a></li>
<li class="toctree-l2"><a class="reference internal" href="secrets.html">tb_pulumi.secrets</a></li>
<li class="toctree-l2"><a class="reference internal" href="guardduty.html">tb_pulumi.guardduty</a></li>
<li class="toctree-l2"><a class="reference internal" href="securityhub.html">tb_pulumi.securityhub</a></li>
<li class="toctree-l2"><a class="reference internal" href="cfg.html">tb_pulumi.cfg</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/fargate.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="module-tb_pulumi.fargate">
<span id="tb-pulumi-fargate"></span><h1>tb_pulumi.fargate<a class="headerlink" href="#module-tb_pulumi.fargate" title="Link to this heading">¶</a></h1>
<p>Infrastructural patterns related to <a class="reference external" href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/AWS_Fargate.html">AWS Fargate</a>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="tb_pulumi.fargate.AutoscalingFargateCluster">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">tb_pulumi.fargate.</span></span><span class="sig-name descname"><span class="pre">AutoscalingFargateCluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">name:</span> <span class="pre">str,</span> <span class="pre">project:</span> <span class="pre">~tb_pulumi.ThunderbirdPulumiProject,</span> <span class="pre">subnets:</span> <span class="pre">list[~pulumi_aws.ec2.subnet.Subnet],</span> <span class="pre">autoscalers:</span> <span class="pre">dict</span> <span class="pre">=</span> <span class="pre">{},</span> <span class="pre">cluster:</span> <span class="pre">dict</span> <span class="pre">=</span> <span class="pre">{},</span> <span class="pre">container_security_groups:</span> <span class="pre">dict[slice(&lt;class</span> <span class="pre">'str'&gt;,</span> <span class="pre">&lt;class</span> <span class="pre">'dict'&gt;,</span> <span class="pre">None)]</span> <span class="pre">=</span> <span class="pre">{},</span> <span class="pre">listeners:</span> <span class="pre">dict[str,</span> <span class="pre">dict]</span> <span class="pre">=</span> <span class="pre">{},</span> <span class="pre">load_balancer_security_groups:</span> <span class="pre">dict[str,</span> <span class="pre">dict]</span> <span class="pre">=</span> <span class="pre">{},</span> <span class="pre">load_balancers:</span> <span class="pre">dict</span> <span class="pre">=</span> <span class="pre">{},</span> <span class="pre">secrets:</span> <span class="pre">dict[str,</span> <span class="pre">list]</span> <span class="pre">=</span> <span class="pre">{},</span> <span class="pre">services:</span> <span class="pre">dict</span> <span class="pre">=</span> <span class="pre">{},</span> <span class="pre">ssm_params:</span> <span class="pre">dict[str,</span> <span class="pre">list]</span> <span class="pre">=</span> <span class="pre">{},</span> <span class="pre">task_definitions:</span> <span class="pre">dict</span> <span class="pre">=</span> <span class="pre">{},</span> <span class="pre">targets:</span> <span class="pre">dict</span> <span class="pre">=</span> <span class="pre">{&lt;class</span> <span class="pre">'dict'&gt;,</span> <span class="pre">&lt;class</span> <span class="pre">'str'&gt;},</span> <span class="pre">opts:</span> <span class="pre">~pulumi.resource.ResourceOptions</span> <span class="pre">=</span> <span class="pre">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tb_pulumi.fargate.AutoscalingFargateCluster" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="tb_pulumi.html#tb_pulumi.ThunderbirdComponentResource" title="tb_pulumi.ThunderbirdComponentResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">ThunderbirdComponentResource</span></code></a></p>
<p><strong>Pulumi Type:</strong> <code class="docutils literal notranslate"><span class="pre">tb:fargate:AutoscalingFargateCluster</span></code></p>
<p>Builds a Fargate cluster with a variety of ways to customize services, load balancing, and autoscaling. Sends logs
to CloudWatch.</p>
<p>The naming of keys in this configuration is significant. The parameters listed below detail this fact. In short, you
will define by name a series of <strong>services</strong> that live in your <strong>cluster</strong>. The services bind together a collection
of resources which operate together to make functional, load balanced, autoscaling services.</p>
<p>A service is bound to a single <strong>task definition</strong> which defines what containers will run in the task, what their
environments look like, what ports they expose, etc. It is also associated with a single <strong>load balancer</strong> that
routes traffic to your containers. This is done by associating <strong>targets</strong> (ports on containers) with <strong>listeners</strong>
(servers that accept traffic from originating sources and route it according to rules which determine its target).</p>
<p>Produces the following <code class="docutils literal notranslate"><span class="pre">resources</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>autoscalers</em> - Dict of <a class="reference internal" href="autoscale.html#tb_pulumi.autoscale.EcsServiceAutoscaler" title="tb_pulumi.autoscale.EcsServiceAutoscaler"><code class="xref py py-class docutils literal notranslate"><span class="pre">tb_pulumi.autoscale.EcsServiceAutoscaler</span></code></a> s created, organized in the same
structure as the <code class="docutils literal notranslate"><span class="pre">autoscalers</span></code> parameter.</p></li>
<li><p><em>cluster</em> - The <a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/ecs/cluster/">aws.ecs.Cluster</a>
running the defined services.</p></li>
<li><p><em>container_security_groups</em> - Dict of <a class="reference internal" href="network.html#tb_pulumi.network.SecurityGroupWithRules" title="tb_pulumi.network.SecurityGroupWithRules"><code class="xref py py-class docutils literal notranslate"><span class="pre">tb_pulumi.network.SecurityGroupWithRules</span></code></a> resources in the
same structure as the <code class="docutils literal notranslate"><span class="pre">container_security_groups</span></code> parameter.</p></li>
<li><p><em>execution_role_policies</em> - Dict where the keys are names of services and the values are
<a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/iam/policy/">aws.iam.Policy</a> resources defining
permissions that ECS has when launching tasks for that service.</p></li>
<li><p><em>execution_roles</em> - Dict where the keys are names of services and the values are
<a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/iam/role/">aws.iam.Role</a> s for ECS to use when
launching tasks for that service.</p></li>
<li><p><em>listeners</em> - A dict containing
<a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/lb/listener/">aws.lb.Listener</a> s in the same
structure as the <code class="docutils literal notranslate"><span class="pre">listeners</span></code> parameter.</p></li>
<li><p><em>load_balancer_security_groups</em> - A dict containing <a class="reference internal" href="network.html#tb_pulumi.network.SecurityGroupWithRules" title="tb_pulumi.network.SecurityGroupWithRules"><code class="xref py py-class docutils literal notranslate"><span class="pre">tb_pulumi.network.SecurityGroupWithRules</span></code></a>
resources in the same structure as the <code class="docutils literal notranslate"><span class="pre">load_balancer_security_groups</span></code> parameter.</p></li>
<li><p><em>load_balancers</em> - A dict containing
<a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/lb/loadbalancer/">aws.lb.LoadBalancer</a> s in the same
structure as the <code class="docutils literal notranslate"><span class="pre">load_balancers</span></code> parameter.</p></li>
<li><p><em>log_groups</em> - A dict where the keys are names of services and the values are
<a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/cloudwatch/loggroup/">aws.cloudwatch.LogGroup</a> s.</p></li>
<li><p><em>services</em> - A dict where the keys are names of services and the values are
<a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/ecs/service/">aws.ecs.Service</a> s.</p></li>
<li><p><em>target_groups</em> - A dict of
<a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/lb/targetgroup/">aws.lb.TargetGroup</a> s in the same
structure as the <code class="docutils literal notranslate"><span class="pre">targets</span></code> parameter.</p></li>
<li><p><em>task_definitions</em> - A dict where the keys are names of services and the values are the
<a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/ecs/taskdefinition/">aws.ecs.TaskDefinition</a> s
created for those services.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – A string identifying this set of resources.</p></li>
<li><p><strong>project</strong> (<a class="reference internal" href="tb_pulumi.html#tb_pulumi.ThunderbirdPulumiProject" title="tb_pulumi.ThunderbirdPulumiProject"><em>tb_pulumi.ThunderbirdPulumiProject</em></a>) – The ThunderbirdPulumiProject to add these resources to.</p></li>
<li><p><strong>subnets</strong> (<em>list</em><em>[</em><em>aws.ec2.Subnet</em><em>]</em>) – A list of <a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/ec2/subnet/">aws.ec2.Subnet</a> s
to build Fargate containers on. There must be at least one subnet to use.</p></li>
<li><p><strong>autoscalers</strong> (<em>dict</em><em>, </em><em>optional</em>) – A dict where the keys are names of services you wish to autoscale and the values are valid
parameters for a <a class="reference internal" href="autoscale.html#tb_pulumi.autoscale.EcsServiceAutoscaler" title="tb_pulumi.autoscale.EcsServiceAutoscaler"><code class="xref py py-class docutils literal notranslate"><span class="pre">tb_pulumi.autoscale.EcsServiceAutoscaler</span></code></a>. Do not provide the <code class="docutils literal notranslate"><span class="pre">service</span></code> option, as
this will be implied by the key name. Defaults to {}.</p></li>
<li><p><strong>cluster</strong> (<em>dict</em><em>, </em><em>optional</em>) – <p>A dict where the keys are inputs to an <a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/ecs/cluster/">aws.ecs.Cluster</a> resource. Describes the cluster
which will house these services. Defaults to {}.</p>
</p></li>
<li><p><strong>container_security_groups</strong> (<em>_type_</em><em>, </em><em>optional</em>) – A nested dict describing the security groups which will be used by a service’s
containers to allow access exclusively from a load balancer. At the top level, the keys are names of services and
the values are dicts. Those dicts’ keys are the names of the load_balancers these containers will allow access
from, and their keys are valid parameters for a <a class="reference internal" href="network.html#tb_pulumi.network.SecurityGroupWithRules" title="tb_pulumi.network.SecurityGroupWithRules"><code class="xref py py-class docutils literal notranslate"><span class="pre">tb_pulumi.network.SecurityGroupWithRules</span></code></a>. <strong>Do not
supply any ingress source options.</strong> This class will automatically specify the load balancer’s security group as
the only valid source. Defaults to {}.</p></li>
<li><p><strong>listeners</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>dict</em><em>]</em><em>, </em><em>optional</em>) – <p>A nested dict describing your load balancers’ listeners and which targets they point to. At the
top level, the keys are names of load balancers and the values are other dicts. Those dicts’ keys are the names of
targets, and their values are inputs to an <a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/lb/listener/">aws.lb.Listener</a> resource. Defaults to {}.</p>
</p></li>
<li><p><strong>load_balancer_security_groups</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>dict</em><em>]</em><em>, </em><em>optional</em>) – A dict where the keys are the names of load balancers and the values are
parameters for a <a class="reference internal" href="network.html#tb_pulumi.network.SecurityGroupWithRules" title="tb_pulumi.network.SecurityGroupWithRules"><code class="xref py py-class docutils literal notranslate"><span class="pre">tb_pulumi.network.SecurityGroupWithRules</span></code></a>. The ingress rules here define what is
allowed to make calls to the load balanced service. Defaults to {}.</p></li>
<li><p><strong>load_balancers</strong> (<em>dict</em><em>, </em><em>optional</em>) – <p>A dict where the keys are names you give to load balancers (as they will be referenced
throughout this config) and the values are inputs to <a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/lb/loadbalancer/">aws.lb.LoadBalancer</a> s. There should be one load balancer
defined for each service. If your service exposes multiple ports, you should add additional targets for those
ports and additional listeners to the load balancer aimed at those targets. Defaults to {}.</p>
</p></li>
<li><p><strong>secrets</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>list</em><em>]</em><em>, </em><em>optional</em>) – A dict where the keys are names of services and the values are lists of Secrets Manager secret ARNs.
These are the secrets which are required for launching the service’s task. If your service’s task definition
defines a container with a <code class="docutils literal notranslate"><span class="pre">secrets</span></code>-based environment variable, then you will need to list the ARN or an
IAM-compatible ARN pattern here to grant that access to ECS at launch time. Defaults to {}.</p></li>
<li><p><strong>services</strong> (<em>dict</em><em>, </em><em>optional</em>) – <p>A dict where the keys are the names of services (as they will be referenced throughout this
configuration) and the values are dicts with a specific mapping:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">services</span><span class="p">:</span>
    <span class="n">service_name</span><span class="p">:</span>
        <span class="n">assign_public_ip</span><span class="p">:</span> <span class="n">yes</span><span class="o">|</span><span class="n">no</span>  <span class="c1"># &quot;yes&quot; required for containers to talk to the internet</span>
        <span class="n">container_name</span><span class="p">:</span> <span class="o">|</span>
          <span class="s2">&quot;Name of a container in a task definition&#39;s ``container_definitions`` to route traffic to&quot;</span>
        <span class="n">container_port</span><span class="p">:</span> <span class="s2">&quot;Port to route traffic to on the container.&quot;</span>
        <span class="n">load_balancer</span><span class="p">:</span> <span class="s2">&quot;Name of the load balancer routing traffic for this service&quot;</span>
        <span class="n">service</span><span class="p">:</span> <span class="o">|</span>
          <span class="s2">&quot;Dict of additional options to pass to the aws.ecs.Service resource constructor.&quot;</span>
        <span class="n">target</span><span class="p">:</span> <span class="o">|</span>
          <span class="s2">&quot;Name of the target defined for this port&quot;</span>
</pre></div>
</div>
<p>Defaults to {}.</p>
</p></li>
<li><p><strong>ssm_params</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>list</em><em>]</em><em>, </em><em>optional</em>) – A dict where the keys are names of services and the values are lists of AWS Systems Manager
parameter ARNs. These are the SSM parameters which are required for launching the service’s task. If your
service’s task definition defines a container with an SSM-based “secret” environment variable, then you will
need to list the ARN or an IAM-compatible ARN pattern here to grant that access to ECS at launch time.
Defaults to {}.</p></li>
<li><p><strong>task_definitions</strong> (<em>dict</em><em>, </em><em>optional</em>) – <p>A dict where the keys are names of services (each service has exactly one task
definition) and the keys are inputs to an <a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/ecs/taskdefinition/">aws.ecs.TaskDefinition</a> resource. Defaults to {}.</p>
</p></li>
<li><p><strong>targets</strong> (<em>dict</em><em>, </em><em>optional</em>) – A dict where the keys are the names for target groups (as they will be referenced throughout
this configuration) and the values are inputs to an <a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/lb/targetgroup/">aws.ecs.TargetGroup</a> resource. Defaults to {}.</p></li>
<li><p><strong>opts</strong> (<em>pulumi.ResourceOptions</em><em>, </em><em>optional</em>) – Additional pulumi.ResourceOptions to apply to these resources. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>IndexError</strong> – When no subnets are provided to place containers in.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tb_pulumi.fargate.FargateClusterWithLogging">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">tb_pulumi.fargate.</span></span><span class="sig-name descname"><span class="pre">FargateClusterWithLogging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="tb_pulumi.html#tb_pulumi.ThunderbirdPulumiProject" title="tb_pulumi.ThunderbirdPulumiProject"><span class="pre">ThunderbirdPulumiProject</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">subnets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">assign_public_ip</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_load_balancer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_security_groups</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ecr_resources</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">['*']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_container_insights</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">health_check_grace_period_seconds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_deletion_window_in_days</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_balancer_security_groups</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">services</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_definition</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ResourceOptions</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tb_pulumi.fargate.FargateClusterWithLogging" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="tb_pulumi.html#tb_pulumi.ThunderbirdComponentResource" title="tb_pulumi.ThunderbirdComponentResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">ThunderbirdComponentResource</span></code></a></p>
<p><strong>Pulumi Type:</strong> <code class="docutils literal notranslate"><span class="pre">tb:fargate:FargateClusterWithLogging</span></code></p>
<p>Builds a Fargate cluster running a variable number of tasks. Logs from these tasks will be
sent to CloudWatch.</p>
<p>Produces the following <code class="docutils literal notranslate"><span class="pre">resources</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>cluster</em> - The <a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/ecs/cluster/">aws.ecs.Cluster</a>.</p></li>
<li><p><em>log_group</em> - <a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/cloudwatch/loggroup/">aws.cloudwatch.LogGroup</a> where these tasks send their
logs.</p></li>
<li><p><em>log_key</em> - <a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/kms/key/">aws.kms.Key</a> used to encrypt
log contents.</p></li>
<li><p><em>fargate_service_alb</em> - <a class="reference internal" href="#tb_pulumi.fargate.FargateServiceAlb" title="tb_pulumi.fargate.FargateServiceAlb"><code class="xref py py-class docutils literal notranslate"><span class="pre">tb_pulumi.fargate.FargateServiceAlb</span></code></a> balancing traffic between these tasks.</p></li>
<li><p><em>policy_exec</em> - <a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/iam/policy/">aws.iam.Policy</a> allowing
the service access to other resources needed to launch tasks.</p></li>
<li><p><em>policy_log_sending</em> - <a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/iam/policy/">aws.iam.Policy</a>
allowing tasks to send logs to their log group.</p></li>
<li><p><em>service</em> - <a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/ecs/service/">aws.ecs.Service</a> managing
the tasks.</p></li>
<li><p><em>task_role</em> - <a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/iam/role/">aws.iam.Role</a> used for
executing tasks in this cluster.</p></li>
<li><p><em>task_definition</em> - <a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/ecs/taskdefinition/">aws.ecs.TaskDefinition</a> describing the properties of the
tasks being managed.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – A string identifying this set of resources.</p></li>
<li><p><strong>project</strong> (<a class="reference internal" href="tb_pulumi.html#tb_pulumi.ThunderbirdPulumiProject" title="tb_pulumi.ThunderbirdPulumiProject"><em>tb_pulumi.ThunderbirdPulumiProject</em></a>) – The ThunderbirdPulumiProject to add these resources to.</p></li>
<li><p><strong>subnets</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – A list of subnet IDs to build Fargate containers on. There must be at least one subnet to use.</p></li>
<li><p><strong>assign_public_ip</strong> (<em>bool</em><em>, </em><em>optional</em>) – When True, containers will receive Internet-facing network interfaces. Must be enabled for
Fargate-backed containers to talk out to the net. Defaults to False.</p></li>
<li><p><strong>build_load_balancer</strong> (<em>bool</em><em>, </em><em>optional</em>) – When True, an Application Load Balancer will be created to route traffic to your Fargate
containers. Defaults to True.</p></li>
<li><p><strong>container_security_groups</strong> (<em>list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – List of security group IDs which will attach to the containers/tasks running in
this cluster. Defaults to [].</p></li>
<li><p><strong>desired_count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of containers the service should target to run. Defaults to 1.</p></li>
<li><p><strong>ecr_resources</strong> (<em>list</em><em>, </em><em>optional</em>) – The containers will be granted permissions to pull images from ECR. If you would like to
restrict these permissions, supply this argument as a list of ARNs as they would appear in an IAM Policy.
Defaults to [‘*’].</p></li>
<li><p><strong>enable_container_insights</strong> (<em>bool</em><em>, </em><em>optional</em>) – When True, enables advanced CloudWatch metrics collection. Defaults to False.</p></li>
<li><p><strong>health_check_grace_period_seconds</strong> (<em>int</em><em>, </em><em>optional</em>) – Time to wait for a container to come online before attempting health
checks. This can be used to prevent accidental health check failures. Defaults to None.</p></li>
<li><p><strong>internal</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether traffic should be accepted from the Internet (False) or not (True). Defaults to True.</p></li>
<li><p><strong>key_deletion_window_in_days</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of days after the KMS key is deleted that it will be recoverable. If you
need to forcibly delete a key, set this to 0. Defaults to 7.</p></li>
<li><p><strong>load_balancer_security_groups</strong> (<em>list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – List of security group IDs which will attach to the load balancers created for
these services.</p></li>
<li><p><strong>services</strong> (<em>dict</em><em>, </em><em>optional</em>) – <p>A dict defining the ports to use when routing requests to each service. The keys should be the name
of the service as described in a container definition. The values should be dicts supporting the options shown
below. If no <code class="docutils literal notranslate"><span class="pre">listenter_port</span></code> is specified, the <code class="docutils literal notranslate"><span class="pre">container_port</span></code> will be used. The <code class="docutils literal notranslate"><span class="pre">container_name</span></code> is the
name of a container as specified in a container definition which can receive this traffic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;web_portal&#39;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">&#39;container_port&#39;</span><span class="p">:</span> <span class="mi">8080</span><span class="p">,</span>
    <span class="s1">&#39;container_name&#39;</span><span class="p">:</span> <span class="s1">&#39;web_backend&#39;</span><span class="p">,</span>
    <span class="s1">&#39;listener_cert_arn&#39;</span><span class="p">:</span> <span class="s1">&#39;arn:aws:acm:region:account:certificate/id&#39;</span><span class="p">,</span>
    <span class="s1">&#39;listener_port&#39;</span><span class="p">:</span> <span class="mi">443</span><span class="p">,</span>
    <span class="s1">&#39;listener_proto&#39;</span><span class="p">:</span> <span class="s1">&#39;HTTPS&#39;</span><span class="p">,</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Arbitrary name for the ALB; must be unique and no longer than 32 characters.&#39;</span><span class="p">,</span>
    <span class="s1">&#39;health_check&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1"># Keys match parameters listed here:</span>
        <span class="c1"># https://www.pulumi.com/registry/packages/aws/api-docs/alb/targetgroup/#targetgrouphealthcheck</span>
    <span class="p">}</span>
<span class="p">}}</span>
</pre></div>
</div>
<p>Defaults to {}.</p>
</p></li>
<li><p><strong>task_definition</strong> (<em>dict</em><em>, </em><em>optional</em>) – A dict representing an ECS task definition. Defaults to {}.</p></li>
<li><p><strong>opts</strong> (<em>pulumi.ResourceOptions</em><em>, </em><em>optional</em>) – Additional pulumi.ResourceOptions to apply to these resources. Defaults to None.</p></li>
<li><p><strong>kwargs</strong> – Any other keyword arguments which will be passed as inputs to the ThunderbirdComponentResource
superconstructor.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>IndexError</strong> – Thrown if the list of <cite>subnets</cite> is empty.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="tb_pulumi.fargate.FargateClusterWithLogging.task_definition">
<span class="sig-name descname"><span class="pre">task_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_def</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">family</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_group_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aws_region</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_role_arn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dependencies</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">Resource</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">TaskDefinition</span></span></span><a class="headerlink" href="#tb_pulumi.fargate.FargateClusterWithLogging.task_definition" title="Link to this definition">¶</a></dt>
<dd><p>Returns an ECS task definition resource.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>task_def</strong> (<em>dict</em>) – A dict defining the task definition template which needs modification.</p></li>
<li><p><strong>family</strong> (<em>str</em>) – A unique name for the task definition.</p></li>
<li><p><strong>log_group_name</strong> (<em>str</em>) – Name of the log group to ship logs to.</p></li>
<li><p><strong>aws_region</strong> (<em>str</em>) – AWS region to build in.</p></li>
<li><p><strong>tags</strong> (<em>dict</em><em>, </em><em>optional</em>) – Key/value pairs to merge with the default tags which get applied to all resources in this group.
Defaults to {}.</p></li>
<li><p><strong>task_role_arn</strong> (<em>str</em>) – ARN of the IAM role the task will run as.</p></li>
<li><p><strong>dependencies</strong> (<em>list</em><em>[</em><em>pulumi.Resource</em><em>]</em>) – List of Resources this task definition is dependent upon.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A TaskDefinition Resource</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>aws.ecs.TaskDefinition</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tb_pulumi.fargate.FargateServiceAlb">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">tb_pulumi.fargate.</span></span><span class="sig-name descname"><span class="pre">FargateServiceAlb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="tb_pulumi.html#tb_pulumi.ThunderbirdPulumiProject" title="tb_pulumi.ThunderbirdPulumiProject"><span class="pre">ThunderbirdPulumiProject</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">subnets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">Output</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">security_groups</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">services</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ResourceOptions</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tb_pulumi.fargate.FargateServiceAlb" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="tb_pulumi.html#tb_pulumi.ThunderbirdComponentResource" title="tb_pulumi.ThunderbirdComponentResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">ThunderbirdComponentResource</span></code></a></p>
<p><strong>Pulumi Type:</strong> <code class="docutils literal notranslate"><span class="pre">tb:fargate:FargateServiceAlb</span></code></p>
<p>Builds an ALB with all of its constituent components to serve traffic for a set of ECS
services. ECS does not allow reuse of a single ALB with multiple listeners, so if there are
multiple services, multiple ALBs will be constructed.</p>
<p>Produces the following <code class="docutils literal notranslate"><span class="pre">resources</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>albs</em> - Dict where the keys match the keys of the <code class="docutils literal notranslate"><span class="pre">services</span></code> parameter and the values are the
<a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/lb/loadbalancer/">aws.lb.LoadBalancers</a> created for
those services.</p></li>
<li><p><em>listeners</em> - Dict where the keys match the keys of the <code class="docutils literal notranslate"><span class="pre">services</span></code> parameter and the values are the
<a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/lb/listener/">aws.lb.Listeners</a> created for the
load balancers for those services.</p></li>
<li><p><em>target_groups</em> - Dict where the keys match the keys of the <code class="docutils literal notranslate"><span class="pre">services</span></code> parameter and the values are the
<a class="reference external" href="https://www.pulumi.com/registry/packages/aws/api-docs/lb/targetgroup/">aws.lb.TargetGroups</a> created for the
listeners for those services. Importantly, Fargate services manage their own targets, so this module does not
track any target group attachments.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – A string identifying this set of resources.</p></li>
<li><p><strong>project</strong> (<a class="reference internal" href="tb_pulumi.html#tb_pulumi.ThunderbirdPulumiProject" title="tb_pulumi.ThunderbirdPulumiProject"><em>tb_pulumi.ThunderbirdPulumiProject</em></a>) – The ThunderbirdPulumiProject to add these resources to.</p></li>
<li><p><strong>subnets</strong> (<em>list</em><em>[</em><em>pulumi.Output</em><em>]</em>) – A list of subnet resources (pulumi outputs) to attach the ALB to.</p></li>
<li><p><strong>internal</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether traffic should be accepted from the Internet (False) or not (True). Defaults to True.</p></li>
<li><p><strong>security_groups</strong> (<em>list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – A list of security group IDs to attach to the load balancer. Defaults to [].</p></li>
<li><p><strong>services</strong> (<em>dict</em><em>, </em><em>optional</em>) – <p>A dict defining the ports to use when routing requests to each service. The keys should be the name
of the service as described in a container definition. The values should be dicts supporting the options shown
below. If no <code class="docutils literal notranslate"><span class="pre">listenter_port</span></code> is specified, the <code class="docutils literal notranslate"><span class="pre">container_port</span></code> will be used. The <code class="docutils literal notranslate"><span class="pre">container_name</span></code> is the
name of a container as specified in a container definition which can receive this traffic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;web_portal&#39;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">&#39;container_port&#39;</span><span class="p">:</span> <span class="mi">8080</span><span class="p">,</span>
    <span class="s1">&#39;container_name&#39;</span><span class="p">:</span> <span class="s1">&#39;web_backend&#39;</span><span class="p">,</span>
    <span class="s1">&#39;listener_cert_arn&#39;</span><span class="p">:</span> <span class="s1">&#39;arn:aws:acm:region:account:certificate/id&#39;</span><span class="p">,</span>
    <span class="s1">&#39;listener_port&#39;</span><span class="p">:</span> <span class="mi">443</span><span class="p">,</span>
    <span class="s1">&#39;listener_proto&#39;</span><span class="p">:</span> <span class="s1">&#39;HTTPS&#39;</span><span class="p">,</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Arbitrary name for the ALB; must be unique and no longer than 32 characters.&#39;</span><span class="p">,</span>
    <span class="s1">&#39;health_check&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1"># Keys match parameters listed here:</span>
        <span class="c1"># https://www.pulumi.com/registry/packages/aws/api-docs/alb/targetgroup/#targetgrouphealthcheck</span>
    <span class="p">}</span>
<span class="p">}}</span>
</pre></div>
</div>
<p>Defaults to {}.</p>
</p></li>
<li><p><strong>opts</strong> (<em>pulumi.ResourceOptions</em><em>, </em><em>optional</em>) – Additional pulumi.ResourceOptions to apply to these resources. Defaults to None.</p></li>
<li><p><strong>kwargs</strong> – Any other keyword arguments which will be passed as inputs to the ThunderbirdComponentResource
superconstructor.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="iam.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">tb_pulumi.iam</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="elasticache.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">tb_pulumi.elasticache</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, Thunderbird
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">tb_pulumi.fargate</a><ul>
<li><a class="reference internal" href="#tb_pulumi.fargate.AutoscalingFargateCluster"><code class="docutils literal notranslate"><span class="pre">AutoscalingFargateCluster</span></code></a></li>
<li><a class="reference internal" href="#tb_pulumi.fargate.FargateClusterWithLogging"><code class="docutils literal notranslate"><span class="pre">FargateClusterWithLogging</span></code></a><ul>
<li><a class="reference internal" href="#tb_pulumi.fargate.FargateClusterWithLogging.task_definition"><code class="docutils literal notranslate"><span class="pre">FargateClusterWithLogging.task_definition()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#tb_pulumi.fargate.FargateServiceAlb"><code class="docutils literal notranslate"><span class="pre">FargateServiceAlb</span></code></a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=fd6eb6e6"></script>
    <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script src="_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>